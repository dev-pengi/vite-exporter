# Vite Exporter Plugin

The Vite Exporter Plugin automatically generates `index.ts` files that exports all modules from a specified directory. This is useful for organizing and managing your exports in a Vite project.

## Installation

```sh
npm install vite-exporter
# or
yarn add vite-exporter
```

## Quick Start

```typescript
// vite.config.ts
import { defineConfig } from 'vite';
import { generateIndexPlugin } from 'vite-exporter';

export default defineConfig({
  plugins: [
    generateIndexPlugin({
      dirs: ['src/components', 'src/utils'],
    }),
  ],
});
```

file changes will be detected and the index.ts file will be updated automatically.

## Configuration

```typescript
import { generateIndexPlugin, LogLevel } from 'vite-exporter';

export default defineConfig({
  plugins: [
    generateIndexPlugin({
      dirs: ['src/components', 'src/utils'],           // Required: directories to process
      extensions: ['.ts', '.tsx', '.js', '.jsx'],     // File extensions (default shown)
      debounceMs: 1500,                               // Debounce timing (default: 2000)
      logLevel: LogLevel.DEBUG,                       // Log verbosity (default: INFO)
      excludes: ['**/*.test.ts', '**/*.spec.ts'],     // Exclude patterns
    }),
  ],
});
```

## Log Levels

```typescript
LogLevel.SILENT   // No output
LogLevel.ERROR    // Only errors
LogLevel.WARN     // Errors and warnings  
LogLevel.INFO     // Standard info (default)
LogLevel.DEBUG    // Debug information
LogLevel.VERBOSE  // All details
```

## Logging Output

The new logging system provides beautiful, colored output with timestamps:

```
15:30:45 [Vite Exporter] INFO    üöÄ Plugin initialized with configuration:
‚îå‚îÄ Configuration
‚îÇ Directories: src/components, src/utils
‚îÇ Extensions: .ts, .tsx, .js, .jsx
‚îÇ Debounce: 1500ms
‚îÇ Log Level: DEBUG
‚îÇ Excludes: **/*.test.ts, **/*.spec.ts
‚îî‚îÄ

15:30:45 [Vite Exporter] DEBUG   üëÄ Watching directory: src/components
15:30:45 [Vite Exporter] SUCCESS üìù Generated index.ts in src/components with 5 exports
15:30:46 [Vite Exporter] DEBUG   ‚ûï File ADD: src/components/NewComponent.tsx
15:30:48 [Vite Exporter] SUCCESS üìù Generated index.ts in src/components with 6 exports
```

## Generated Files

Given this structure:
```
src/
  components/
    Button.tsx        // export default Button + named exports
    Input.tsx         // export default Input
    Select.ts          // only named exports
```

The plugin generates:
```typescript
// src/components/index.ts
// This file is auto-generated by vite-exporter-plugin
export { default as Button } from './Button';
export * from './Button';
export { default as Input } from './Input';
export * from './Select';
```

## Configuration Options

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `dirs` | `string[]` | **Required** | Directories to process |
| `extensions` | `string[]` | `['.ts', '.tsx', '.js', '.jsx']` | File extensions to include |
| `debounceMs` | `number` | `2000` | Debounce timing in milliseconds |
| `logLevel` | `LogLevel` | `LogLevel.INFO` | Logging verbosity level |
| `excludes` | `string[]` | `[]` | Glob patterns to exclude |

## Troubleshooting

**Enable verbose logging to see everything:**
```typescript
generateIndexPlugin({
  dirs: ['src/components'],
  logLevel: LogLevel.VERBOSE,
})
```

**Common issues:**
- Files not detected ‚Üí Check `extensions` configuration
- Too many updates slow down the build ‚Üí Increase `debounceMs` value  
- Files excluded ‚Üí Check `excludes` patterns

## Migration from v1.x

```typescript
// Old (v1.x)
generateIndexPlugin({
  dirs: ['src/components'],
  enableDebugging: true,
  enableDebuggingVerbose: true,
})

// New (v2.x)
generateIndexPlugin({
  dirs: ['src/components'],
  logLevel: LogLevel.VERBOSE,
})
```

## License

MIT License